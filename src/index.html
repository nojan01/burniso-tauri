<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>BurnISO to USB</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <!-- Confirm Dialog Modal -->
  <div id="confirm-modal" class="modal hidden">
    <div class="modal-backdrop"></div>
    <div class="modal-content modal-warning">
      <div class="modal-header warning">
        <span class="modal-icon">âš ï¸</span>
        <h2 id="confirm-title" data-i18n="dialogs.warning">Warnung</h2>
      </div>
      <div class="modal-body">
        <p id="confirm-message" class="confirm-message" data-i18n="dialogs.confirm">Sind Sie sicher?</p>
      </div>
      <div class="modal-footer">
        <button id="confirm-cancel-btn" class="btn secondary" data-i18n="dialogs.cancel">Abbrechen</button>
        <button id="confirm-ok-btn" class="btn danger" data-i18n="dialogs.yes">Ja, lÃ¶schen</button>
      </div>
    </div>
  </div>

  <!-- Password Dialog Modal -->
  <div id="password-modal" class="modal hidden">
    <div class="modal-backdrop"></div>
    <div class="modal-content">
      <div class="modal-header">
        <span class="modal-icon">ğŸ”</span>
        <h2 data-i18n="dialogs.adminPassword">Administrator-Passwort</h2>
      </div>
      <div class="modal-body">
        <p id="password-prompt" data-i18n="dialogs.adminPasswordPrompt">Zum AusfÃ¼hren dieser Aktion werden Administrator-Rechte benÃ¶tigt.</p>
        <div class="password-input-wrapper">
          <input type="password" id="password-input" data-i18n-placeholder="dialogs.enterPassword" placeholder="macOS-Passwort eingeben" autocomplete="off" />
        </div>
      </div>
      <div class="modal-footer">
        <button id="password-cancel-btn" class="btn secondary" data-i18n="dialogs.cancel">Abbrechen</button>
        <button id="password-ok-btn" class="btn primary" data-i18n="dialogs.ok">OK</button>
      </div>
    </div>
  </div>

  <div class="container">
    <!-- Drop Overlay for Drag & Drop -->
    <div id="drop-overlay" class="drop-overlay hidden">
      <div class="drop-content">
        <div class="drop-icon">ğŸ“€</div>
        <div class="drop-text" data-i18n="dragDrop.dropHere">ISO-Datei hier ablegen</div>
      </div>
    </div>

    <!-- App Header -->
    <header class="app-header">
      <div class="header-icon">ğŸ”¥</div>
      <div class="header-text">
        <h1 data-i18n="app.title">burnISOtoUSB</h1>
        <p data-i18n="app.subtitle">ISO â†” USB Images verwalten</p>
      </div>
    </header>
    <div class="tabs">
      <button class="tab-btn active" data-tab="burn" data-i18n="tabs.burn">ISO â†’ USB</button>
      <button class="tab-btn" data-tab="backup" data-i18n="tabs.backup">USB â†’ ISO</button>
      <button class="tab-btn" data-tab="diagnose" data-i18n="tabs.diagnose">ğŸ” USB prÃ¼fen</button>
      <button class="tab-btn" data-tab="tools" data-i18n="tabs.tools">ğŸ› ï¸ USB Tools</button>
      <button class="tab-btn" data-tab="forensic" data-i18n="tabs.forensic">ğŸ”¬ Forensik</button>
    </div>

    <!-- ISO to USB Tab -->
    <div id="burn-tab" class="tab-content active">
      <div class="section">
        <h3>ğŸ“€ <span data-i18n="burn.selectIso">ISO-Datei auswÃ¤hlen</span></h3>
        <div class="file-input-row">
          <input type="text" id="iso-path" data-i18n-placeholder="burn.noFile" placeholder="Keine Datei ausgewÃ¤hlt" readonly />
          <button id="select-iso-btn" class="btn secondary" data-i18n="burn.browse">Durchsuchen</button>
        </div>
        <div class="recent-files-row">
          <select id="recent-iso-select" class="recent-select" disabled>
            <option value="" data-i18n="burn.recentFiles">Zuletzt verwendet...</option>
          </select>
        </div>
      </div>

      <div class="section">
        <h3>ğŸ’¾ <span data-i18n="burn.selectUsb">USB-Stick auswÃ¤hlen</span></h3>
        <div class="disk-row">
          <select id="burn-disk-select">
            <option value="" data-i18n="burn.selectUsbPlaceholder">-- USB-Stick wÃ¤hlen --</option>
          </select>
          <button id="refresh-burn-disks" class="btn secondary icon-btn" data-i18n-title="burn.refresh" title="Aktualisieren">ğŸ”„</button>
        </div>
        <div id="burn-disk-info" class="disk-info"></div>
      </div>

      <div class="section">
        <h3>âš™ï¸ <span data-i18n="burn.options">Optionen</span></h3>
        <div class="checkbox-group">
          <label class="checkbox-label">
            <input type="checkbox" id="verify-after-burn" checked />
            <span class="checkbox-text">
              <strong data-i18n="burn.verifyAfterBurn">Nach dem Brennen verifizieren</strong>
              <small data-i18n="burn.verifyDescription">Vergleicht geschriebene Daten mit der ISO-Datei</small>
            </span>
          </label>
          <label class="checkbox-label">
            <input type="checkbox" id="eject-after-burn" checked />
            <span class="checkbox-text">
              <strong data-i18n="burn.ejectAfterBurn">USB-Stick nach Abschluss auswerfen</strong>
              <small data-i18n="burn.ejectDescription">Wirft den DatentrÃ¤ger sicher aus</small>
            </span>
          </label>
        </div>
      </div>

      <div class="section">
        <h3>ğŸ“Š <span data-i18n="burn.progress">Fortschritt</span></h3>
        <div class="progress-container">
          <div class="progress-bar" id="burn-progress">
            <div class="progress-fill" id="burn-progress-fill"></div>
          </div>
          <span class="progress-text" id="burn-progress-text">0%</span>
          <span class="eta-text" id="burn-eta"></span>
        </div>
        <div id="burn-phase" class="phase-text"></div>
      </div>

      <div class="button-row">
        <button id="burn-btn" class="btn primary large" disabled><span data-i18n="burn.burnButton">ğŸ”¥ ISO auf USB brennen</span></button>
        <button id="cancel-burn-btn" class="btn danger" disabled data-i18n="burn.cancel">Abbrechen</button>
      </div>

      <div class="section">
        <h3>ğŸ“‹ <span data-i18n="burn.log">Protokoll</span></h3>
        <div id="burn-log" class="log-output"></div>
      </div>
    </div>

    <!-- USB to ISO Tab -->
    <div id="backup-tab" class="tab-content">
      <div class="section">
        <h3>ğŸ’¾ <span data-i18n="backup.selectUsb">USB-Stick auswÃ¤hlen</span></h3>
        <div class="disk-row">
          <select id="backup-disk-select">
            <option value="" data-i18n="backup.selectUsbPlaceholder">-- USB-Stick wÃ¤hlen --</option>
          </select>
          <button id="refresh-backup-disks" class="btn secondary icon-btn" data-i18n-title="burn.refresh" title="Aktualisieren">ğŸ”„</button>
        </div>
        <div id="backup-disk-info" class="disk-info"></div>
      </div>

      <div class="section">
        <h3>ğŸ“ <span data-i18n="backup.selectDestination">Speicherort fÃ¼r Image</span></h3>
        <div class="file-input-row">
          <input type="text" id="backup-destination" data-i18n-placeholder="backup.destinationPlaceholder" placeholder="Ziel wÃ¤hlen" readonly />
          <button id="select-destination-btn" class="btn secondary" data-i18n="backup.saveAs">Speichern unter</button>
        </div>
      </div>

      <div class="section">
        <h3>âš™ï¸ <span data-i18n="backup.backupMode">Sicherungsmodus</span></h3>
        <div class="radio-group">
          <label class="radio-label">
            <input type="radio" name="backup-mode" value="raw" checked />
            <span class="radio-text">
              <strong data-i18n="backup.rawMode">Sektorgenau (Raw)</strong>
              <small data-i18n="backup.rawDescription">Komplettes Image inkl. aller Sektoren - langsamer aber exakt</small>
            </span>
          </label>
          <label class="radio-label" id="filesystem-mode-label">
            <input type="radio" name="backup-mode" value="filesystem" disabled />
            <span class="radio-text">
              <strong data-i18n="backup.filesystemMode">Dateibasiert (Schnell)</strong>
              <small data-i18n="backup.filesystemDescription">Nur belegte Dateien - schneller und komprimiert</small>
            </span>
          </label>
        </div>
      </div>

      <div class="section">
        <h3>ğŸ“Š <span data-i18n="backup.progress">Fortschritt</span></h3>
        <div class="progress-container">
          <div class="progress-bar" id="backup-progress">
            <div class="progress-fill" id="backup-progress-fill"></div>
          </div>
          <span class="progress-text" id="backup-progress-text">0%</span>
          <span class="eta-text" id="backup-eta"></span>
        </div>
      </div>

      <div class="button-row">
        <button id="backup-btn" class="btn primary large" disabled><span data-i18n="backup.backupButton">ğŸ’¿ USB sichern</span></button>
        <button id="cancel-backup-btn" class="btn danger" disabled data-i18n="backup.cancel">Abbrechen</button>
      </div>

      <div class="section">
        <h3>ğŸ“‹ <span data-i18n="backup.log">Protokoll</span></h3>
        <div id="backup-log" class="log-output"></div>
      </div>
    </div>

    <!-- USB Diagnose Tab -->
    <div id="diagnose-tab" class="tab-content">
      <div class="section">
        <h3>ğŸ’¾ <span data-i18n="diagnose.selectUsb">USB-Stick auswÃ¤hlen</span></h3>
        <div class="disk-row">
          <select id="diagnose-disk-select">
            <option value="" data-i18n="diagnose.selectUsbPlaceholder">-- USB-Stick wÃ¤hlen --</option>
          </select>
          <button id="refresh-diagnose-disks" class="btn secondary icon-btn" data-i18n-title="burn.refresh" title="Aktualisieren">ğŸ”„</button>
        </div>
        <div id="diagnose-disk-info" class="disk-info"></div>
      </div>

      <!-- SMART Status Section (Collapsible) -->
      <div class="section collapsible expanded" id="smart-section">
        <h3 class="collapsible-header" id="smart-header">
          <span class="collapse-icon">â–¶</span>
          ğŸ’¾ <span data-i18n="diagnose.smartStatus">S.M.A.R.T. Status</span>
          <span id="smart-status-badge" class="status-badge hidden"></span>
        </h3>
        <div class="collapsible-content" id="smart-content">
          <div id="smart-container" class="smart-container">
            <div id="smart-loading" class="smart-loading hidden">
              <span class="spinner"></span> <span data-i18n="messages.loading">LÃ¤dt...</span>
            </div>
            <div id="smart-unavailable" class="smart-unavailable hidden">
              <span class="smart-icon">â„¹ï¸</span>
              <span id="smart-unavailable-msg" data-i18n="diagnose.smartUnavailable">SMART-Daten nicht verfÃ¼gbar</span>
            </div>
            <div id="smart-data" class="smart-data hidden">
              <!-- Health Status -->
              <div class="smart-health-row">
                <span class="smart-health-label" data-i18n="diagnose.healthStatus">Gesundheitsstatus:</span>
                <span id="smart-health-value" class="smart-health-value">-</span>
              </div>
              
              <!-- Device Info Section -->
              <div id="smart-device-info" class="smart-section-group">
                <h4 class="smart-group-title">ğŸ“¦ GerÃ¤teinformationen</h4>
                <div class="smart-details-grid">
                  <div class="smart-detail-item" id="smart-model-family-item">
                    <span class="smart-detail-label">Modellfamilie:</span>
                    <span id="smart-model-family-value" class="smart-detail-value">-</span>
                  </div>
                  <div class="smart-detail-item" id="smart-device-model-item">
                    <span class="smart-detail-label">Modell:</span>
                    <span id="smart-device-model-value" class="smart-detail-value">-</span>
                  </div>
                  <div class="smart-detail-item" id="smart-serial-item">
                    <span class="smart-detail-label">Seriennummer:</span>
                    <span id="smart-serial-value" class="smart-detail-value">-</span>
                  </div>
                  <div class="smart-detail-item" id="smart-firmware-item">
                    <span class="smart-detail-label">Firmware:</span>
                    <span id="smart-firmware-value" class="smart-detail-value">-</span>
                  </div>
                  <div class="smart-detail-item" id="smart-capacity-item">
                    <span class="smart-detail-label">KapazitÃ¤t:</span>
                    <span id="smart-capacity-value" class="smart-detail-value">-</span>
                  </div>
                  <div class="smart-detail-item" id="smart-form-factor-item">
                    <span class="smart-detail-label">Formfaktor:</span>
                    <span id="smart-form-factor-value" class="smart-detail-value">-</span>
                  </div>
                  <div class="smart-detail-item" id="smart-rotation-item">
                    <span class="smart-detail-label">Typ:</span>
                    <span id="smart-rotation-value" class="smart-detail-value">-</span>
                  </div>
                  <div class="smart-detail-item" id="smart-block-size-item">
                    <span class="smart-detail-label">BlockgrÃ¶ÃŸe:</span>
                    <span id="smart-block-size-value" class="smart-detail-value">-</span>
                  </div>
                </div>
              </div>
              
              <!-- Interface Info Section -->
              <div id="smart-interface-info" class="smart-section-group">
                <h4 class="smart-group-title">ğŸ”Œ Schnittstelle</h4>
                <div class="smart-details-grid">
                  <div class="smart-detail-item" id="smart-protocol-item">
                    <span class="smart-detail-label">Protokoll:</span>
                    <span id="smart-protocol-value" class="smart-detail-value">-</span>
                  </div>
                  <div class="smart-detail-item" id="smart-ata-version-item">
                    <span class="smart-detail-label">ATA Version:</span>
                    <span id="smart-ata-version-value" class="smart-detail-value">-</span>
                  </div>
                  <div class="smart-detail-item" id="smart-sata-version-item">
                    <span class="smart-detail-label">SATA Version:</span>
                    <span id="smart-sata-version-value" class="smart-detail-value">-</span>
                  </div>
                  <div class="smart-detail-item" id="smart-speed-max-item">
                    <span class="smart-detail-label">Max. Speed:</span>
                    <span id="smart-speed-max-value" class="smart-detail-value">-</span>
                  </div>
                  <div class="smart-detail-item" id="smart-speed-current-item">
                    <span class="smart-detail-label">Aktueller Speed:</span>
                    <span id="smart-speed-current-value" class="smart-detail-value">-</span>
                  </div>
                </div>
              </div>
              
              <!-- Capabilities Section -->
              <div id="smart-capabilities-info" class="smart-section-group">
                <h4 class="smart-group-title">âš™ï¸ Funktionen</h4>
                <div class="smart-details-grid smart-capabilities-grid">
                  <div class="smart-detail-item smart-capability" id="smart-enabled-item">
                    <span id="smart-enabled-value" class="smart-capability-badge">-</span>
                    <span class="smart-detail-label">SMART</span>
                  </div>
                  <div class="smart-detail-item smart-capability" id="smart-trim-item">
                    <span id="smart-trim-value" class="smart-capability-badge">-</span>
                    <span class="smart-detail-label">TRIM</span>
                  </div>
                  <div class="smart-detail-item smart-capability" id="smart-write-cache-item">
                    <span id="smart-write-cache-value" class="smart-capability-badge">-</span>
                    <span class="smart-detail-label">Write Cache</span>
                  </div>
                  <div class="smart-detail-item smart-capability" id="smart-read-lookahead-item">
                    <span id="smart-read-lookahead-value" class="smart-capability-badge">-</span>
                    <span class="smart-detail-label">Read Look-ahead</span>
                  </div>
                  <div class="smart-detail-item smart-capability" id="smart-security-item">
                    <span id="smart-security-value" class="smart-capability-badge">-</span>
                    <span class="smart-detail-label">ATA Security</span>
                  </div>
                </div>
              </div>
              
              <!-- Usage Stats Section -->
              <div id="smart-usage-info" class="smart-section-group">
                <h4 class="smart-group-title">ğŸ“Š Nutzungsstatistik</h4>
                <div class="smart-details-grid">
                  <div class="smart-detail-item" id="smart-hours-item">
                    <span class="smart-detail-label" data-i18n="diagnose.powerOnHours">Betriebsstunden:</span>
                    <span id="smart-hours-value" class="smart-detail-value">-</span>
                  </div>
                  <div class="smart-detail-item" id="smart-cycles-item">
                    <span class="smart-detail-label" data-i18n="diagnose.powerCycles">Ein-/Ausschaltzyklen:</span>
                    <span id="smart-cycles-value" class="smart-detail-value">-</span>
                  </div>
                  <div class="smart-detail-item" id="smart-lbas-written-item">
                    <span class="smart-detail-label">Geschrieben (LBAs):</span>
                    <span id="smart-lbas-written-value" class="smart-detail-value">-</span>
                  </div>
                  <div class="smart-detail-item" id="smart-lbas-read-item">
                    <span class="smart-detail-label">Gelesen (LBAs):</span>
                    <span id="smart-lbas-read-value" class="smart-detail-value">-</span>
                  </div>
                  <div class="smart-detail-item" id="smart-endurance-item">
                    <span class="smart-detail-label">SSD VerschleiÃŸ:</span>
                    <span id="smart-endurance-value" class="smart-detail-value">-</span>
                  </div>
                  <div class="smart-detail-item" id="smart-spare-item">
                    <span class="smart-detail-label">ErsatzblÃ¶cke verfÃ¼gbar:</span>
                    <span id="smart-spare-value" class="smart-detail-value">-</span>
                  </div>
                </div>
              </div>
              
              <!-- Temperature Section -->
              <div id="smart-temperature-info" class="smart-section-group">
                <h4 class="smart-group-title">ğŸŒ¡ï¸ Temperatur</h4>
                <div class="smart-details-grid">
                  <div class="smart-detail-item" id="smart-temp-item">
                    <span class="smart-detail-label" data-i18n="diagnose.temperature">Aktuell:</span>
                    <span id="smart-temp-value" class="smart-detail-value">-</span>
                  </div>
                  <div class="smart-detail-item" id="smart-temp-min-item">
                    <span class="smart-detail-label">Minimum (Lebensdauer):</span>
                    <span id="smart-temp-min-value" class="smart-detail-value">-</span>
                  </div>
                  <div class="smart-detail-item" id="smart-temp-max-item">
                    <span class="smart-detail-label">Maximum (Lebensdauer):</span>
                    <span id="smart-temp-max-value" class="smart-detail-value">-</span>
                  </div>
                  <div class="smart-detail-item" id="smart-temp-limit-item">
                    <span class="smart-detail-label">Betriebslimit:</span>
                    <span id="smart-temp-limit-value" class="smart-detail-value">-</span>
                  </div>
                </div>
              </div>
              
              <!-- Health Details Section -->
              <div id="smart-health-info" class="smart-section-group">
                <h4 class="smart-group-title">ğŸ¥ Gesundheitsdetails</h4>
                <div class="smart-details-grid">
                  <div class="smart-detail-item" id="smart-reallocated-item">
                    <span class="smart-detail-label" data-i18n="diagnose.reallocatedSectors">Umgemappte Sektoren:</span>
                    <span id="smart-reallocated-value" class="smart-detail-value">-</span>
                  </div>
                  <div class="smart-detail-item" id="smart-pending-item">
                    <span class="smart-detail-label" data-i18n="diagnose.pendingSectors">Wartende Sektoren:</span>
                    <span id="smart-pending-value" class="smart-detail-value">-</span>
                  </div>
                  <div class="smart-detail-item" id="smart-uncorrectable-item">
                    <span class="smart-detail-label" data-i18n="diagnose.uncorrectableSectors">Unkorrigierbare Sektoren:</span>
                    <span id="smart-uncorrectable-value" class="smart-detail-value">-</span>
                  </div>
                  <div class="smart-detail-item" id="smart-error-log-item">
                    <span class="smart-detail-label">Fehler-Log EintrÃ¤ge:</span>
                    <span id="smart-error-log-value" class="smart-detail-value">-</span>
                  </div>
                </div>
              </div>
              
              <!-- Self-Test Section -->
              <div id="smart-selftest-info" class="smart-section-group">
                <h4 class="smart-group-title">ğŸ§ª Selbsttest</h4>
                <div class="smart-details-grid">
                  <div class="smart-detail-item" id="smart-selftest-status-item">
                    <span class="smart-detail-label">Letzter Test:</span>
                    <span id="smart-selftest-status-value" class="smart-detail-value">-</span>
                  </div>
                  <div class="smart-detail-item" id="smart-selftest-short-item">
                    <span class="smart-detail-label">Kurztest Dauer:</span>
                    <span id="smart-selftest-short-value" class="smart-detail-value">-</span>
                  </div>
                  <div class="smart-detail-item" id="smart-selftest-extended-item">
                    <span class="smart-detail-label">Langtest Dauer:</span>
                    <span id="smart-selftest-extended-value" class="smart-detail-value">-</span>
                  </div>
                  <div class="smart-detail-item" id="smart-selftest-log-item">
                    <span class="smart-detail-label">Test-Log EintrÃ¤ge:</span>
                    <span id="smart-selftest-log-value" class="smart-detail-value">-</span>
                  </div>
                </div>
              </div>
              
              <!-- Attributes Table -->
              <div id="smart-attributes-section" class="smart-section-group hidden">
                <h4 class="smart-group-title">ğŸ“‹ SMART Attribute</h4>
                <div id="smart-attributes-container" class="smart-attributes-table-container">
                  <table class="smart-attributes-table">
                    <thead>
                      <tr>
                        <th>ID</th>
                        <th>Attribut</th>
                        <th>Wert</th>
                        <th>Worst</th>
                        <th>Thresh</th>
                        <th>Raw</th>
                        <th>Flags</th>
                        <th>Status</th>
                      </tr>
                    </thead>
                    <tbody id="smart-attributes-tbody">
                    </tbody>
                  </table>
                </div>
              </div>
              
              <div id="smart-source" class="smart-source"></div>
              <div id="smart-warning" class="smart-warning hidden"></div>
            </div>
          </div>
        </div>
      </div>

      <div class="section">
        <h3>ğŸ”§ <span data-i18n="diagnose.testType">Testmodus</span></h3>
        <div class="radio-group">
          <label class="radio-label">
            <input type="radio" name="diagnose-mode" value="surface" checked />
            <span class="radio-text">
              <strong data-i18n="diagnose.surfaceScan">ğŸ” Surface Scan (Nur Lesen)</strong>
              <small data-i18n="diagnose.surfaceDescription">Liest alle Sektoren und findet Lesefehler - Daten bleiben erhalten</small>
            </span>
          </label>
          <label class="radio-label">
            <input type="radio" name="diagnose-mode" value="full" />
            <span class="radio-text">
              <strong data-i18n="diagnose.fullTest">âš ï¸ Volltest (Schreiben + Lesen)</strong>
              <small data-i18n="diagnose.fullDescription">Schreibt Testmuster und vergleicht - LÃ–SCHT ALLE DATEN!</small>
            </span>
          </label>
          <label class="radio-label">
            <input type="radio" name="diagnose-mode" value="speed" />
            <span class="radio-text">
              <strong data-i18n="diagnose.speedTest">âš¡ Geschwindigkeitstest</strong>
              <small data-i18n="diagnose.speedDescription">Misst Lese- und Schreibgeschwindigkeit - LÃ–SCHT ALLE DATEN!</small>
            </span>
          </label>
        </div>
        <div id="diagnose-warning" class="note warning hidden">
          âš ï¸ <span data-i18n="diagnose.dataWarning">WARNUNG: Dieser Test lÃ¶scht alle Daten auf dem USB-Stick!</span>
        </div>
      </div>

      <div class="section">
        <h3>ğŸ“Š <span data-i18n="diagnose.progress">Fortschritt</span></h3>
        <div class="progress-container">
          <div class="progress-bar" id="diagnose-progress">
            <div class="progress-fill" id="diagnose-progress-fill"></div>
          </div>
          <span class="progress-text" id="diagnose-progress-text">0%</span>
          <span class="eta-text" id="diagnose-eta"></span>
        </div>
        <div id="diagnose-phase" class="phase-text"></div>
      </div>

      <div class="section collapsible" id="diagnose-stats-section">
        <h3 class="collapsible-header" id="stats-header">
          <span class="collapse-icon">â–¶</span>
          ğŸ“ˆ <span data-i18n="diagnose.statistics">Statistiken</span>
          <span id="stats-summary-badge" class="status-badge hidden"></span>
        </h3>
        <div class="collapsible-content hidden" id="stats-content">
          <div class="stats-grid">
            <div class="stat-item">
              <span class="stat-label" data-i18n="diagnose.sectorsChecked">GeprÃ¼fte Sektoren:</span>
              <span class="stat-value" id="stat-sectors-checked">0</span>
            </div>
            <div class="stat-item">
              <span class="stat-label" data-i18n="diagnose.errorsFound">Fehler gefunden:</span>
              <span class="stat-value" id="stat-errors-found">0</span>
            </div>
            <div class="stat-item">
              <span class="stat-label" data-i18n="diagnose.readSpeed">Lesegeschwindigkeit:</span>
              <span class="stat-value" id="stat-read-speed">-</span>
            </div>
            <div class="stat-item">
              <span class="stat-label" data-i18n="diagnose.writeSpeed">Schreibgeschwindigkeit:</span>
              <span class="stat-value" id="stat-write-speed">-</span>
            </div>
          </div>
        </div>
      </div>

      <div class="button-row">
        <button id="diagnose-btn" class="btn primary large" disabled><span data-i18n="diagnose.startTest">ğŸ” Test starten</span></button>
        <button id="cancel-diagnose-btn" class="btn danger" disabled data-i18n="diagnose.cancel">Abbrechen</button>
      </div>

      <div class="section">
        <h3>ğŸ“‹ <span data-i18n="diagnose.log">Protokoll</span></h3>
        <div id="diagnose-log" class="log-output"></div>
      </div>
    </div>

    <!-- USB Tools Tab -->
    <div id="tools-tab" class="tab-content">
      <div class="section">
        <h3>ğŸ’¾ <span data-i18n="tools.selectUsb">USB-Stick auswÃ¤hlen</span></h3>
        <div class="disk-row">
          <select id="tools-disk-select">
            <option value="" data-i18n="tools.selectUsbPlaceholder">-- USB-Stick wÃ¤hlen --</option>
          </select>
          <button id="refresh-tools-disks" class="btn secondary icon-btn" data-i18n-title="tools.refresh" title="Aktualisieren">ğŸ”„</button>
        </div>
        <div id="tools-disk-info" class="disk-info"></div>
      </div>

      <div class="section">
        <h3>ğŸ”§ <span data-i18n="tools.formatTitle">Formatieren</span></h3>
        <div class="format-options">
          <div class="option-row">
            <label data-i18n="tools.filesystem">Dateisystem:</label>
            <select id="format-filesystem">
              <option value="FAT32">FAT32</option>
              <option value="ExFAT">ExFAT</option>
              <option value="NTFS" class="paragon-ntfs-option" disabled>NTFS (Paragon)</option>
              <option value="ext2" class="paragon-extfs-option" disabled>ext2 (Paragon)</option>
              <option value="ext3" class="paragon-extfs-option" disabled>ext3 (Paragon)</option>
              <option value="ext4" class="paragon-extfs-option" disabled>ext4 (Paragon)</option>
              <option value="APFS">APFS</option>
              <option value="HFS+">HFS+</option>
            </select>
          </div>
          <div class="option-row" id="encryption-row">
            <label data-i18n="tools.encryption">VerschlÃ¼sselung:</label>
            <input type="checkbox" id="format-encrypted" />
            <span class="encryption-hint" data-i18n="tools.encryptionHint">(nur APFS/HFS+)</span>
          </div>
          <div class="option-row" id="encryption-password-row" style="display: none;">
            <label data-i18n="tools.encryptionPassword">Passwort:</label>
            <input type="password" id="format-encryption-password" placeholder="VerschlÃ¼sselungspasswort" />
          </div>
          <div class="option-row">
            <label data-i18n="tools.volumeName">Name:</label>
            <input type="text" id="format-name" value="USB_STICK" maxlength="11" />
          </div>
          <div class="option-row">
            <label data-i18n="tools.partitionScheme">Schema:</label>
            <select id="format-scheme">
              <option value="GPT">GPT (UEFI)</option>
              <option value="MBR">MBR (Legacy)</option>
            </select>
          </div>
        </div>
        <button id="format-btn" class="btn primary" disabled>
          ğŸ’¿ <span data-i18n="tools.formatButton">Formatieren</span>
        </button>
      </div>

      <div class="section">
        <h3>ï¿½ <span data-i18n="tools.repairTitle">First Aid</span></h3>

        <button id="repair-btn" class="btn primary" disabled>
          ğŸ”§ <span data-i18n="tools.repairButton">DatentrÃ¤ger reparieren</span>
        </button>
      </div>

      <div class="section">
        <h3>ï¿½ğŸ—‘ï¸ <span data-i18n="tools.secureEraseTitle">Sicheres LÃ¶schen</span></h3>
        <div class="erase-options">
          <label class="radio-option">
            <input type="radio" name="erase-level" value="0" checked />
            <span class="radio-content">
              <strong data-i18n="tools.eraseQuick">Schnell (1x Nullen)</strong>
              <small>~5-10 Min</small>
            </span>
          </label>
          <label class="radio-option">
            <input type="radio" name="erase-level" value="1" />
            <span class="radio-content">
              <strong data-i18n="tools.eraseRandom">Zufallsdaten</strong>
              <small>~5-10 Min</small>
            </span>
          </label>
          <label class="radio-option">
            <input type="radio" name="erase-level" value="4" />
            <span class="radio-content">
              <strong data-i18n="tools.eraseDoe">DoE 3-Pass</strong>
              <small>~15-30 Min</small>
            </span>
          </label>
          <label class="radio-option">
            <input type="radio" name="erase-level" value="3" />
            <span class="radio-content">
              <strong data-i18n="tools.eraseGutmann">Gutmann 35x</strong>
              <small><span data-i18n="tools.eraseGutmannWarn">âš ï¸ Not for Flash!</span></small>
            </span>
          </label>
        </div>
        <div class="button-row">
          <button id="secure-erase-btn" class="btn danger" disabled>
            ğŸ—‘ï¸ <span data-i18n="tools.secureEraseButton">Sicher lÃ¶schen</span>
          </button>
          <button id="cancel-erase-btn" class="btn secondary hidden" disabled>
            âŒ <span data-i18n="tools.cancelErase">Abbrechen</span>
          </button>
        </div>
      </div>

      <div class="section">
        <h3>ğŸš€ <span data-i18n="tools.bootCheckTitle">Boot-Analyse</span></h3>
        <button id="bootcheck-btn" class="btn primary" disabled>
          ğŸš€ <span data-i18n="tools.bootCheckButton">Boot-Analyse starten</span>
        </button>
        <div id="bootcheck-result" class="bootcheck-result hidden"></div>
      </div>

      <div class="section">
        <h3>ğŸ“Š <span data-i18n="tools.progress">Fortschritt</span></h3>
        <div class="progress-container">
          <div class="progress-bar" id="tools-progress">
            <div class="progress-fill" id="tools-progress-fill"></div>
          </div>
          <span class="progress-text" id="tools-progress-text">0%</span>
          <span class="eta-text" id="tools-eta"></span>
        </div>
        <div id="tools-phase" class="phase-text"></div>
      </div>

      <div class="section">
        <h3>ğŸ“‹ <span data-i18n="tools.log">Protokoll</span></h3>
        <div id="tools-log" class="log-output"></div>
      </div>
    </div>

    <!-- Forensic Tab -->
    <div id="forensic-tab" class="tab-content">
      <div class="section">
        <h3>ğŸ’¾ <span data-i18n="forensic.selectUsb">USB-Stick auswÃ¤hlen</span></h3>
        <div class="disk-row">
          <select id="forensic-disk-select">
            <option value="" data-i18n="common.selectDisk">-- USB-Stick wÃ¤hlen --</option>
          </select>
          <button id="refresh-forensic-disks" class="btn secondary icon-btn" title="Aktualisieren">ğŸ”„</button>
        </div>
      </div>

      <div class="section">
        <h3>ğŸ”¬ <span data-i18n="forensic.title">Forensische USB-Analyse</span></h3>
        <div class="forensic-action-row">
          <button id="forensic-btn" class="btn primary" disabled>
            ğŸ”¬ <span data-i18n="forensic.startButton">Forensik-Analyse starten</span>
          </button>
          <span class="safe-note">â„¹ï¸ <span data-i18n="forensic.description">Nur lesend â€“ keine Daten werden verÃ¤ndert.</span></span>
        </div>
      </div>

      <div id="forensic-result" class="forensic-result hidden"></div>

      <div class="section forensic-export-section hidden" id="forensic-export-section">
        <h3>ğŸ“¤ <span data-i18n="forensic.exportTitle">Report exportieren</span></h3>
        <div class="export-buttons">
          <button id="copy-forensic-btn" class="btn secondary">
            ï¿½ <span data-i18n="forensic.saveJson">JSON speichern</span>
          </button>

          <button id="export-html-btn" class="btn secondary">
            ğŸŒ <span data-i18n="forensic.exportHtml">Als HTML speichern</span>
          </button>
        </div>
      </div>

      <div class="section">
        <h3>ğŸ“‹ <span data-i18n="forensic.log">Protokoll</span></h3>
        <div id="forensic-log" class="log-output"></div>
      </div>
    </div>
  </div>

  <script src="i18n.js"></script>
  <script src="main.js"></script>
</body>
</html>
